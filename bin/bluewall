#!/usr/bin/env ruby

# Add the lib directory to the load path
lib_path = File.expand_path('../../lib', __FILE__)
$LOAD_PATH.unshift(lib_path) unless $LOAD_PATH.include?(lib_path)

require 'bluewall'

# Main Execution (this part was already in your script)
if ARGV.empty?
  puts "Usage: bluewall <config.xml>"
  exit(1)
end

config_file = ARGV[0]
auditor = BlueWall.new
audit_result = auditor.conduct_audit(config_file)

# Output the result (the script already handles this)
puts audit_result.to_s.split("--- BlueWall Audit Report ---").first
# ... rest of the output and interaction will follow as in the original script